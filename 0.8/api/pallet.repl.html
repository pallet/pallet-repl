<html lang="en">
  <head>
    <title>pallet.repl documentation</title>
    <link href="css/default.css" type="text/css" rel="stylesheet" />
    <link href="css/codox-md.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/page_effects.js"></script>
  </head>
  <body>
    <header>
    <div data-scrollspy="scrollspy" class="topbar">
      <div class="topbar-inner">
        <div class="container">
          <a href="/" class="brand">Pallet</a>
          <ul class="nav">
            <li class=""><a href="/doc">Documentation</a></li>
            <li class=""><a href="/news">News</a></li>
            <li class=""><a href="/blog">Blog</a></li>
            <li class=""><a href="https://github.com/pallet/pallet">Code</a></li>
            <li class=""><a href="/services">Services</a></li>
            <li class=""><a href="/support">Support</a></li>
            <li class=""><a href="/contact">Contact</a></li>
          </ul>
          <form action="http://www.google.com/search" method="get" class="pull-right">
            <input placeholder="Search" value="" maxlength="255" name="q" type="text" />
            <input value="palletops.com" type="hidden" name="sitesearch" />
          </form>
        </div>
      </div>
    </div>
      <div id="header">
        <h1><a href="http://palletops.com"><span class="project-title">Pallet-repl 0.8.0-beta.2 API documentation</span></a></h1>
      </div>
    </header>
    <navigation>
      <div id="namespaces" class="sidebar">
        <h3>Namespaces</h3>
        <ul class="ns-links">
          <li class="ns-list"><a class="ns-link ns-name" href="pallet.repl.html">pallet.repl</a></li>
        </ul>
      </div>
      <div id="vars" class="sidebar">
        <h3>Public Vars</h3>
        <ul class="ns-var-links">
          <li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-explain-phase">explain-phase</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-explain-plan">explain-plan</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-explain-session">explain-session</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-node-list-from-session">node-list-from-session</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-run-script">run-script</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-session-summary">session-summary</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-show-group">show-group</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-show-nodes">show-nodes</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-show-nodes*">show-nodes*</a></li><li class="ns-var-list"><a class="ns-var-link ns-var-name" href="pallet.repl.html#var-use-pallet">use-pallet</a></li>
        </ul>
      </div>
    </navigation>
    <article>
      <div id="content" class="namespace-docs">
        <h2 class="namespace-title">pallet.repl documentation</h2>
        <div class="doc"><p>A namespace that can be used to pull in most of pallet's namespaces.  uesful
when working at the clojure REPL.</p>
</div>
        <div class="ns-vars">
          <div class="public">
            <h3><a id="var-explain-phase" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L196">explain-phase</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[server-spec &amp; {:keys [phase print-scripts print-forms print-branches node os-family os-version], :or {print-scripts true, print-forms true, print-branches false, os-family :ubuntu, phase :configure}, :as options}]</div>
            
            
            <div class="doc"><p>Prints the action plan and corresponding shell scripts built as a
result of executing a phase from the <code>server-spec</code>. The <code>:configure</code>
phase is explained by default. The phase can be specified with the
<code>:phase</code> keyword.</p>

<p>  By default, the plan function is run against a mock node with
this configuration:</p>

<pre><code>["mock-node" "mock-group" "0.0.0.0" :ubuntu :os-version "12.04"]
</code></pre>

<p>and you can override this by passing your own node vector as <code>:node</code>,
or just change the os-family/os-version for the node by passing
<code>:os-family</code> and <code>:os-version</code>. If a os-family is passed but no
os-version, then a sane default for os-version will be picked. If you
specify <code>:node</code> then <code>:os-family</code> and <code>:os-version</code> are ignored.</p>

<p>By default, both the generated action forms (clojure forms) and the
scripts corresponding to those action forms will be shown, but you can
disable them by passing <code>:print-scripts false</code> and/or `:print-forms
false` </p>
</div>
          </div><div class="public">
            <h3><a id="var-explain-plan" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L151">explain-plan</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[pfn &amp; {:keys [settings-phase print-scripts print-forms print-branches node os-family os-version group-name], :or {print-scripts true, print-branches false, print-forms true, os-family :ubuntu, group-name "mock-group"}}]</div>
            
            
            <div class="doc"><p>Prints the action plan and corresponding shell scripts built as a
result of executing a plan function <code>pfn</code>. If the plan function
requires settings to be set, adding the settings function call to
<code>:settings-phase</code></p>

<p>  By default, the plan function is run against a mock node with
this configuration:</p>

<pre><code>["mock-node" "mock-group" "0.0.0.0" :ubuntu :os-version "12.04"]
</code></pre>

<p>and you can override this by passing your own node vector as <code>:node</code>,
or just change the os-family/os-version for the node by passing
<code>:os-family</code> and <code>:os-version</code>. If a os-family is passed but no
os-version, then a sane default for os-version will be picked. If you
specify <code>:node</code> then <code>:os-family</code> and <code>:os-version</code> are ignored.</p>

<p>By default, both the generated action forms (clojure forms) and the
scripts corresponding to those action forms will be shown, but you can
disable them by passing <code>:print-scripts false</code> and/or `:print-forms
false` </p>
</div>
          </div><div class="public">
            <h3><a id="var-explain-session" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L232">explain-session</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[{:keys [destroyed-nodes created-nodes runs], :as session} &amp; {:keys [show-detail show-internal-phases], :or {show-detail true, show-internal-phases false}}]</div>
            
            
            <div class="doc"><p>Prints out detail of the actions executed in the context of the
session, as well as possible infrastructure changes. The session
parameter can be serialized or pure clojure.set</p>

<p>The optional key parameter <code>:show-detail</code> controls whether detail on
each action is to be shown or not. It defaults to <code>true</code>. When turned
off, minimal OK/ERROR information will be presented for each node.</p>

<p>The optional key parameter <code>:show-internal-phases</code> will also print
phases that are internal to pallet.</p>
</div>
          </div><div class="public">
            <h3><a id="var-node-list-from-session" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L331">node-list-from-session</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[s]</div>
            
            
            <div class="doc"><p>Creates a node-list provider from a session. This node list
provider will only contain the nodes affected in the session. </p>
</div>
          </div><div class="public">
            <h3><a id="var-run-script" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L346">run-script</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[compute-or-session groups script]</div>
            
            
            <div class="doc"><p>Runs a script on a group or list of groups, and prints out the
resulting session.</p>

<p>If <code>compute-or-session</code> is a compute, it will work as a regular
lift/confgerge, but if it is a session, then it will only consider
the nodes in the session, and won't use the compute provider to find
these nodes, which should be faster</p>
</div>
          </div><div class="public">
            <h3><a id="var-session-summary" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L325">session-summary</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[s]</div>
            
            
            <div class="doc"><p>Provides a summary of the session execution, just indicating, for
each phase, which nodes ran OK vs. which ones got ERRORs.</p>
</div>
          </div><div class="public">
            <h3><a id="var-show-group" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L62">show-group</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[compute group-name &amp; keys]</div>
            
            
            <div class="doc"><p>Prints a table with the information on all the nodes belonging to a
<code>group</code> (identified by it's name) on a particular <code>compute</code>
provider. The columns displayed can be modified by passing an
optional <code>keys</code> vector containing the keys to display as
columns (order is significative)</p>
</div>
          </div><div class="public">
            <h3><a id="var-show-nodes" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L41">show-nodes</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[compute &amp; [keys]]</div>
            
            
            <div class="doc"><p>Prints a table with the information on all the nodes in a compute provider.
The columns displayed can be modified by passing an optional <code>keys</code>
vector containing the keys to display as columns (order is
significative)</p>

<p>Valid keys are:
  - <code>:hostname</code>
  - <code>:group-name</code>
  - <code>:os-family</code>
  - <code>:os-version</code>
  - <code>:primary-ip</code>
  - <code>:ssh-port</code>
  - <code>:proxy-port</code>
  - <code>:private-ip</code>
  - <code>:terminated?</code></p>
</div>
          </div><div class="public">
            <h3><a id="var-show-nodes*" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L29">show-nodes*</a></h3>
            <h4 class="var-type fn" id="var-type">fn</h4>
            <div class="usage">[nodes &amp; [keys]]</div>
            
            
            <div class="doc"><p>Prints the list of nodes in <code>nodes</code> as a table. The columns of the
table and their order can be modified by passing a vector with all
the keys in <code>keys</code></p>
</div>
          </div><div class="public">
            <h3><a id="var-use-pallet" class="source var-name" href="https://github.com/pallet/pallet-repl/blob/develop/src/pallet/repl.clj#L19">use-pallet</a></h3>
            <h4 class="var-type macro" id="var-type">macro</h4>
            <div class="usage">[]</div>
            
            
            <div class="doc"><p>Macro that will use pallet's namespaces, to provide an easy to access REPL.</p>
</div>
          </div>
        </div>
      </div>
    </article>
  </body>

</html>